<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="741px" height="291px" viewBox="-0.5 -0.5 741 291" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-05-31T07:06:09.835Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/18.1.3 Chrome/100.0.4896.143 Electron/18.2.3 Safari/537.36&quot; etag=&quot;EtXKHvhHDqV6KHp9vcFj&quot; version=&quot;18.1.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;9Pnw1uztYY7gLeuAm7TR&quot; name=&quot;Page-1&quot;&gt;1VdtT9swEP41kbYPSGncpuUjtIxJE0waGvvsJNfE4NjBcdeWXz+/5cVtoBUCpkqV4jw+38tz57smQPNycy1wVdzwDGgQhdkmQIsgikbjKAr0L8y2FplNkQVyQTIn1AF35BkcGDp0RTKoPUHJOZWk8sGUMwap9DAsBF/7YktOfasVzmEPuEsx3Uf/kEwWLopo2uHfgeRFY3kUn9udEjfCLpK6wBlf9yB0FaC54FzaVbmZA9XkNbzYc99e2G0dE8DkMQeeq3L8BLc3+e11UiQ1Slby/sxp+YvpygXsnJXbhgHBVywDrSQM0OW6IBLuKpzq3bXKucIKWVL1NlLLfacaCyAkbHqQc/IaeAlSbJWI2234cgWDmkpYd/Sjc4cVPerHDsMu43mruSNFLRwv5vV3DeJn8qDrJgopToDao5XgFa9BG8VEWrWv0hj1InK0v5XBJaF0zikX5izKJjDLxgqvpeCP0NuZRQmK40/j/J0oV6891l/NQhDFuNTssKTWj5SXJTEyPG9TE1Ol5TIRapVLQ4Z/KNCh7UIH84lOPJ+j0eGEjsYfltHjes9koPfYdNYVZh7l8dNKt0lVAoauC7Up8uTLRLGg7Ifd86tNuaJJnmFKcmaFU0UlCFseTlVTMDt33Yjb0lLDQmhdhd4UeClryQWYAWScw0IL2fOE5a3oWqiCMCOpLDHLBmt0B8FVBVrSlLZxoQJRk1q2Sn8p+23pGwcsTrmaVd0+sJwwOMbk0G3qB79iklAzxx64CmhrfFJO2Vm7JKJsfbAUaDeOipRuD5HdCMlCAM7qJuIONvQWmOXgs/HjXlPB08d6MWD7JW+sGy5rfeX1W7Sr+2Drt4F35qmuTb9F+K2AcZVAv284yBX0gsJSa9DtgKjsXzhY8uqFduQ3rA+YF9P99jIdai8Rer8h7d2Zwy09PvWWvss5Gmjp4RDnHzqkvft8OAvTE89CNDk8WGef/k/JJeEg+7MTZ7+t+f/CvoK6rzUj3vvmRVf/AA==&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="0" y="0" width="390" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="0" y="0" width="90" height="40" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 20px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">propose wait</div></div></div></foreignObject><text x="45" y="24" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">propose wait</text></switch></g><rect x="90" y="0" width="140" height="40" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 20px; margin-left: 91px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"> commit log wait<br />   </div></div></div></foreignObject><text x="160" y="24" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">commit log wait...</text></switch></g><rect x="0" y="60" width="740" height="230" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 738px; height: 1px; padding-top: 67px; margin-left: 2px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(51, 51, 51); text-align: center;">propose wait: wait for the raftstore to start proposing the write command<br /><br />append log: persist the Raft log to the local Raft engine<br /><br />commit log wait: wait until majority peers confirm the proposal<br /><br />apply wait: wait for the apply threads to apply the change to the KV RocksDB<br /><br />apply: write the changes to the KV RocksDB<br /></span></div></div></div></foreignObject><text x="2" y="79" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">propose wait: wait for the raftstore to start proposing the write command...</text></switch></g><rect x="100" y="20" width="100" height="20" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 30px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">append log</div></div></div></foreignObject><text x="150" y="34" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">append log</text></switch></g><rect x="230" y="0" width="80" height="40" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 20px; margin-left: 231px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">apply wait</div></div></div></foreignObject><text x="270" y="24" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">apply wait</text></switch></g><rect x="310" y="0" width="80" height="40" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 20px; margin-left: 311px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">apply</div></div></div></foreignObject><text x="350" y="24" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">apply</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>